
* Class Diagram
#+BEGIN_SRC plantuml :file ClassDiagram.png
  hide empty members
  skinparam Linetype ortho
  skinparam groupInheritance 3
  skinparam scale 0.2

  namespace Game #AAAABB{
      class Map{
          Tile[] tiles;
          Entity[] entities;
          Character[] players;
      }   

      abstract class Tile{
          bool solid;
          vec2 position;
      }

      class Ground extends Tile
      class DestructibleWall extends Tile
      class IndestructibleWall extends Tile

      abstract Entity{
          vec2 position;

          tile[] get_map_solids();
          void move(vec2 delta);
      }

      class Character extends Entity{
          int lives;
          int speed;
          int immune_time;

          void place_bomb(map);
      }

      abstract class Enemy extends Entity{
          void auto_move();
      }

      class NonHostileEnemy extends Enemy
      class HostileEnemy extends Enemy
   

      Map *-- Tile
      Map *-- Enemy
      Map o-- Character
      Map <- Entity

      'Tile <|-- Ground
      'Tile <|-- DestructibleWall
      'Tile <|-- IndestructibleWall

      'Enemy <|-- NonHostileEnemy
      'Enemy <|-- HostileEnemy

      'Entity <|-- Character
      'Entity <|-- Enemy

      
  }

  namespace GUI #AADDAA{

      note as N1
      All of these extend either QWidget or QGraphicsItem.
      end note

      class MainWindow
      class QMap{
            void up();
            void left();
            void right();
            void down();
            void place();

            get_game_elements();
      }
      class QTile{
            QPixmap texture;
      }
      class QPowerup
      class QCharacter{
            Character character;
            QPixmap texture;
      }
      class QDraggableChar{
            bool active;
      }   

      QMap *-- QTile
      QMap *-- QCharacter
      QMap *-- QEnemy
      QMap *-- QPowerup

      MainWindow *-- QMap
      MainWindow *-- QDraggableChar

      MainWindow *-- QScoreWindow

  }

  'Game +-- GUI
  Game.Map o-down- GUI.QMap
#+END_SRC
  
#+RESULTS:
[[file:ClassDiagram.png]]

