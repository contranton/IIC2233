'scale 2
skinparam Linetype ortho

skinparam class{
	  BackgroundColor<< MainProgramExecution>> Lime
}

title Diagrama de Clases Preliminario -- Tarea 1: CHAUCRAFT\nJavier Contreras (@contranton)\nIIC2233, 2018-1\n\nDiagram made with <i>plantuml</i>

class Universe{
      
      <get> Galaxy[] galaxies_list

      void _acquire_planets_and_galaxies()
      void write_content()
}

class Galaxy{
      str nombre
      int minerales
      int deuterio
      
      <get> Planet[] planets_list

      Planet[] planets
}

Class Planet{
      str nombre

      datetime ult_recoleccion

      bool conquistado
      bool torre
      bool cuartel

      int num_soldados = 0
      int num_magos = 0

      int nivel_ataque = 0
      int nivel_economia = 0

      -- Properties --
      <get> Raza raza

      <get/set> int num_soldados 
      <get/set> int num_magos
      <get> int max_soldados
      <get> int max_magos
      
      <get> int effective_tasa_minerales
      <get> int tasa_minerales
      <get/set> int tasa_minerales
      <get/set> int tasa_deuterio
      
      <get> int evolucion
      
      <get> int ataque_efectivo
      <get> int vida_efectiva

}

Planet --* Galaxy
Galaxy --* Universe

' Soldiers and mages will inherit from these:

abstract Class Raza<< Singleton >> #lightskyblue{

	 str nombre
	 bool has_mago
	 int max_pop

	 int[] costo_soldado
	 int[] rango_atq_soldado
	 int[] rango_vid_soldado

	 int[] costo_mago
	 int[] rango_atq_mago
	 int[] rango_vid_mago

	 str warcry

	 void habilidad()
}

abstract Class Maestro #powderblue

abstract Class Aprendiz #powderblue

abstract Class Asesino #powderblue

Maestro --^ Raza
Aprendiz --^ Raza
Asesino --^ Raza

Raza --o Planet


' Menu system

abstract class Menu #lightcyan{
	 str title
	 str content
	 str prompt

	 {abstract} bool _validate_input()
	 bool _interact()

	 bool run()
}

 class NumericalChoiceMenu #lightcyan{
	 bool is_main

	 <get/set> items
	 <get> options
	 <get> functions
}

 class TextInputMenu #lightcyan

 class YesNoMenu #lightcyan

 class AreYouSureMenu #lightcyan

 class InfoMenu #lightcyan

 class NumericalInputMenu #lightcyan

Menu ^-- NumericalChoiceMenu
Menu ^-- TextInputMenu
Menu ^-- YesNoMenu
Menu ^-- InfoMenu
Menu ^-- NumericalInputMenu

YesNoMenu ^-- AreYouSureMenu

class MainMenu << MainProgramExecution >>{
      Universe universe
}

class CreateGalaxyMenu #gold{
      Universe universe

      Galaxy new_galaxy
      Planet[] new_planets
}

note left of MainMenu
     Different menus are created through program execution. Detailed relationships
     concerning which main-like menus inherit which menu types have been obviated to
     avoid unnecessary clutter.
end note

class QueryGalaxyMenu #gold{
      Universe universe

      void general_info()
      void planet_info()
      void best_galaxy()
      void planet_ranking()
}

class ModifyGalaxyMenu #gold{
      Universe universe

      void add_planet()
      void eliminate_conquered()
      void increase_mins_rate()
      void increase_deut_rate()
      void add_soldiers()
      void add_wizards()
}

class PlayGalaxyMenu #gold{
      Universe universe

      void visit_planet()
      void save_changes()
}

class VisitConqueredPlanetMenu #moccasin {
      Planet planet

      void build_building()
      void create_units()
      void collect_resources()
      void make_improvements()
}

class VisitUnconqueredPlanetMenu #moccasin {
      Planet planet
      
      void invade_planet()
      void purchase_planet()
}

class BattleInfoMenu #moccasin{
      Planet planet
}

PlayGalaxyMenu -right-* VisitConqueredPlanetMenu
PlayGalaxyMenu -right-* VisitUnconqueredPlanetMenu

BattleInfoMenu --* PlayGalaxyMenu


Menu ^-left- MainMenu
MainMenu *-- Menu

MainMenu --* Universe

' CreateGalaxyMenu --o Universe
' ModifyGalaxyMenu --o Universe
' QueryGalaxyMenu --o Universe
' PlayGalaxyMenu --o Universe

CreateGalaxyMenu --* MainMenu
ModifyGalaxyMenu --* MainMenu
QueryGalaxyMenu --* MainMenu
PlayGalaxyMenu --* MainMenu

note top of PlayGalaxyMenu
     This menu manages, <i>all by itself</i> the interactions concerning battles,
     the archmage, asteroids, etc, as these are not intrinsic parts of a planet
     or galaxy but rather actions performed <i><b>on</b></i> them
end note



